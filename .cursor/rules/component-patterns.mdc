---
description: Patterns für ShadCN Komponenten-Komposition.
globs: ["**/components/**/*.tsx", "**/app/**/*.tsx"]
alwaysApply: false
---

# Component Composition Patterns

Beim Erstellen komplexer UI-Komponenten folge diesen Schablonen, um konsistente Spacing-, Radius- und Farb-Token-Verwendung sicherzustellen.

## 1. Die "Card" Schablone

Eine Card besteht immer aus:

```tsx
<Card className="rounded-lg border border-border bg-card text-card-foreground shadow-sm">
  {/* Header (optional) */}
  <CardHeader className="flex flex-col space-y-1.5 p-6">
    <CardTitle className="text-2xl font-semibold tracking-tight">
      Titel
    </CardTitle>
    <CardDescription className="text-sm text-muted-foreground">
      Beschreibung
    </CardDescription>
  </CardHeader>
  
  {/* Content */}
  <CardContent className="p-6 pt-0">
    {/* Inhalt */}
  </CardContent>
  
  {/* Footer (optional) */}
  <CardFooter className="flex items-center p-6 pt-0">
    {/* Actions */}
  </CardFooter>
</Card>
```

### Wichtige Token:
- Border: `border-border`
- Background: `bg-card`
- Text: `text-card-foreground`
- Padding: `p-6` (24px)
- Radius: `rounded-lg`

---

## 2. Die "Dashboard Page" Schablone

Eine Seite im Dashboard sollte folgende Hierarchie haben:

```tsx
<div className="flex flex-col gap-6 p-6">
  {/* Header-Bereich */}
  <div className="flex items-center justify-between">
    <div>
      <h1 className="text-3xl font-bold tracking-tight text-foreground">
        Dashboard
      </h1>
      <p className="text-sm text-muted-foreground">
        Willkommen zurück, hier ist deine Übersicht.
      </p>
    </div>
    <div className="flex gap-2">
      <Button variant="outline">Filter</Button>
      <Button>Neue Aktion</Button>
    </div>
  </div>
  
  {/* Grid-Layout für Widgets */}
  <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
    <StatCard />
    <StatCard />
    <StatCard />
    <StatCard />
  </div>
  
  {/* Hauptinhalt */}
  <div className="grid gap-4 lg:grid-cols-7">
    <Card className="col-span-4">
      {/* Großes Widget */}
    </Card>
    <Card className="col-span-3">
      {/* Kleineres Widget */}
    </Card>
  </div>
</div>
```

### Wichtige Token:
- Page Background: transparent (erbt `bg-background` vom Body)
- Section Gap: `gap-6` (24px)
- Grid Gap: `gap-4` (16px)
- Page Padding: `p-6` (24px)
- Titel: `text-3xl font-bold tracking-tight text-foreground`

---

## 3. Die "Stat Card" Schablone

Für Statistik-Karten (Zahlen-Widgets):

```tsx
<Card>
  <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
    <CardTitle className="text-sm font-medium">
      Gesamtumsatz
    </CardTitle>
    <DollarSign className="h-4 w-4 text-muted-foreground" />
  </CardHeader>
  <CardContent>
    <div className="text-2xl font-bold">€45,231.89</div>
    <p className="text-xs text-muted-foreground">
      +20.1% zum Vormonat
    </p>
  </CardContent>
</Card>
```

### Wichtige Token:
- Label: `text-sm font-medium`
- Value: `text-2xl font-bold`
- Sub-Text: `text-xs text-muted-foreground`
- Icon: `text-muted-foreground`

---

## 4. Formulare

Nutze immer die Form-Komponenten von ShadCN (react-hook-form Wrapper).

```tsx
<FormField
  control={form.control}
  name="email"
  render={({ field }) => (
    <FormItem>
      <FormLabel className="text-sm font-medium leading-none">
        E-Mail
      </FormLabel>
      <FormControl>
        <Input 
          placeholder="name@beispiel.de" 
          className="border-input bg-transparent"
          {...field} 
        />
      </FormControl>
      <FormDescription className="text-[0.8rem] text-muted-foreground">
        Deine geschäftliche E-Mail-Adresse.
      </FormDescription>
      <FormMessage className="text-[0.8rem] font-medium text-destructive" />
    </FormItem>
  )}
/>
```

### Wichtige Token:
- Label: `text-sm font-medium leading-none`
- Description: `text-[0.8rem] text-muted-foreground`
- Error: `text-[0.8rem] font-medium text-destructive`
- Input Border: `border-input`
- Focus Ring: `ring-ring`

---

## 5. Button-Varianten

Alle Button-Varianten mit korrekten Token:

```tsx
// Primary (Hauptaktion)
<Button className="bg-primary text-primary-foreground hover:bg-primary/90">
  Speichern
</Button>

// Secondary
<Button variant="secondary" className="bg-secondary text-secondary-foreground hover:bg-secondary/80">
  Abbrechen
</Button>

// Destructive
<Button variant="destructive" className="bg-destructive text-destructive-foreground hover:bg-destructive/90">
  Löschen
</Button>

// Outline
<Button variant="outline" className="border-input bg-background hover:bg-accent hover:text-accent-foreground">
  Mehr
</Button>

// Ghost
<Button variant="ghost" className="hover:bg-accent hover:text-accent-foreground">
  Einstellungen
</Button>

// Link
<Button variant="link" className="text-primary underline-offset-4 hover:underline">
  Mehr erfahren
</Button>
```

---

## 6. Navigation / Sidebar Item

```tsx
<Button
  variant="ghost"
  className={cn(
    "w-full justify-start gap-2",
    "text-muted-foreground hover:bg-accent hover:text-accent-foreground",
    isActive && "bg-accent text-accent-foreground"
  )}
>
  <Icon className="size-4" />
  <span>Menüpunkt</span>
</Button>
```

### Wichtige Token:
- Default: `text-muted-foreground`
- Hover: `hover:bg-accent hover:text-accent-foreground`
- Active: `bg-accent text-accent-foreground`
- **WICHTIG:** Immer `<Button>` aus `@/components/ui/button` verwenden, niemals `<button>`

---

## 7. Modal / Dialog

```tsx
<Dialog>
  <DialogContent className="rounded-lg border border-border bg-popover p-6 shadow-lg">
    <DialogHeader className="flex flex-col space-y-1.5">
      <DialogTitle className="text-lg font-semibold leading-none tracking-tight">
        Titel
      </DialogTitle>
      <DialogDescription className="text-sm text-muted-foreground">
        Beschreibung des Dialogs.
      </DialogDescription>
    </DialogHeader>
    
    <div className="py-4">
      {/* Content */}
    </div>
    
    <DialogFooter className="flex justify-end gap-2">
      <Button variant="outline">Abbrechen</Button>
      <Button>Bestätigen</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

### Wichtige Token:
- Background: `bg-popover`
- Text: `text-popover-foreground`
- Border: `border-border`
- Radius: `rounded-lg`
- Padding: `p-6`

---

## 8. Tabellen

```tsx
<Table>
  <TableHeader>
    <TableRow className="border-b border-border hover:bg-transparent">
      <TableHead className="text-muted-foreground font-medium">
        Name
      </TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow className="border-b border-border hover:bg-muted/50">
      <TableCell className="font-medium">Wert</TableCell>
    </TableRow>
  </TableBody>
</Table>
```

### Wichtige Token:
- Header Text: `text-muted-foreground font-medium`
- Row Border: `border-border`
- Row Hover: `hover:bg-muted/50`
- Cell: `font-medium` für wichtige, normal für reguläre Zellen

---

## 9. Badges / Tags

```tsx
// Default
<Badge className="bg-secondary text-secondary-foreground">
  Tag
</Badge>

// Destructive
<Badge variant="destructive" className="bg-destructive text-destructive-foreground">
  Fehler
</Badge>

// Outline
<Badge variant="outline" className="border-border text-foreground">
  Info
</Badge>
```

---

## 10. Empty State

```tsx
<div className="flex flex-col items-center justify-center gap-4 py-16 text-center">
  <div className="rounded-full bg-muted p-4">
    <Icon className="h-8 w-8 text-muted-foreground" />
  </div>
  <div className="space-y-1">
    <h3 className="text-lg font-medium text-foreground">
      Keine Daten gefunden
    </h3>
    <p className="text-sm text-muted-foreground">
      Erstelle deinen ersten Eintrag, um loszulegen.
    </p>
  </div>
  <Button>
    Neuer Eintrag
  </Button>
</div>
```

### Wichtige Token:
- Icon Container: `bg-muted`
- Icon: `text-muted-foreground`
- Title: `text-lg font-medium text-foreground`
- Description: `text-sm text-muted-foreground`
- Spacing: `py-16`, `gap-4`
