---
description: Technische Regeln für Tailwind CSS v4 Syntax und Konfiguration.
globs: ["**/*.css", "**/*.tsx", "**/*.ts"]
alwaysApply: true
---

# Tailwind CSS v4 Technical Compliance

Wir verwenden Tailwind CSS v4 mit der Oxide Engine. Dies erfordert spezifische Syntax-Muster und eine CSS-First Konfiguration.

## 1. CSS-First Konfiguration

### WICHTIG:
- Es gibt **KEINE `tailwind.config.ts`** in diesem Projekt
- Alle Konfigurationen geschehen in `src/app/globals.css` im `@theme inline` Block
- Versuche **NICHT**, eine tailwind.config.js/ts zu erstellen oder zu referenzieren

### Wenn du neue Variablen hinzufügen musst:
1. Füge die CSS-Variable unter `:root` hinzu (z.B. `--success: oklch(0.7 0.2 145);`)
2. Registriere sie im `@theme inline` Block (z.B. `--color-success: var(--success);`)

---

## 2. @theme Syntax

Das Projekt verwendet den `@theme inline` Block für Token-Definitionen:

```css
@theme inline {
  /* Farben */
  --color-primary: var(--primary);
  --color-secondary: var(--secondary);
  
  /* Radii */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  
  /* Animationen */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  
  @keyframes accordion-down {
    from { height: 0; }
    to { height: var(--radix-accordion-content-height); }
  }
}
```

---

## 3. Arbitrary Values - STRIKT VERBOTEN

### Farben:
- ❌ `bg-[#ff0000]`, `text-[rgb(255,0,0)]`
- ✅ `bg-primary`, `text-destructive`

### Spacing:
- ❌ `p-[17px]`, `m-[2.3rem]`, `gap-[13px]`
- ✅ `p-4`, `m-6`, `gap-8`

### Sizing:
- ❌ `w-[350px]`, `h-[123px]`
- ✅ `w-full`, `w-1/2`, `max-w-md`
- ⚠️ Ausnahme: `w-[var(--sidebar-width)]` für CSS-Variablen-Referenzen

### Radii:
- ❌ `rounded-[8px]`, `rounded-[0.5rem]`
- ✅ `rounded-sm`, `rounded-md`, `rounded-lg`

### Font-Sizes:
- ❌ `text-[13px]`, `text-[1.125rem]`
- ✅ `text-sm`, `text-base`, `text-lg`

---

## 4. Dark Mode Variante

Das Projekt verwendet eine Custom-Variante für Dark Mode:

```css
@custom-variant dark (&:is(.dark *));
```

### Verwendung in Komponenten:
```tsx
// Richtig: Automatische Dark Mode Unterstützung über CSS-Variablen
<div className="bg-background text-foreground">

// Selten nötig: Explizite Dark Mode Styles
<div className="bg-white dark:bg-black">  // ❌ Vermeiden!
```

> **Best Practice**: Verlasse dich auf die CSS-Variablen-Architektur. Die Variablen in `:root` und `.dark` wechseln automatisch.

---

## 5. Compositing und Utilities

### @apply Regel:
- Nutze `@apply` **NUR** in `@layer base` für globale Resets
- Nutze `@apply` **NIEMALS** in CSS-Modulen oder Komponenten-Styles
- Schreibe Utility-Klassen direkt in das JSX (`className="..."`)

### cn() Utility:
```tsx
import { cn } from "@/lib/utils";

// Für konditionales Styling
<button className={cn(
  "bg-primary text-primary-foreground",
  isDisabled && "opacity-50 cursor-not-allowed",
  className
)}>
```

---

## 6. Plugin-Syntax

Plugins werden direkt im CSS importiert:

```css
@import "tailwindcss";
@plugin "tw-animate-css";
```

### Verfügbare Plugins in diesem Projekt:
- `tw-animate-css` - Animationen für ShadCN Komponenten

---

## 7. Umgang mit "Unknown Classes"

Da wir nur semantische Tokens definiert haben, existieren Standard-Tailwind-Klassen wie `text-red-600` **NICHT** in diesem Projekt.

### Wenn du unsicher bist, welche Klasse existiert:
1. Konsultiere `@design-system-tokens.mdc`
2. Prüfe die `@theme inline` Definitionen in `globals.css`

### Wenn du eine Farbe brauchst, die nicht existiert:
1. Schlage vor, sie als semantische Variable in `globals.css` hinzuzufügen
2. **Niemals** hartcodieren

---

## 8. Opazitäts-Modifikatoren

Mit OKLCH-Variablen funktionieren Opazitäts-Modifikatoren automatisch:

```tsx
// Funktioniert korrekt
<div className="bg-primary/90">     // 90% Opazität
<div className="bg-background/50">  // 50% Opazität
<div className="border-border/20">  // 20% Opazität
```

---

## 9. Container Queries (Bevorzugt)

Für responsive Layouts innerhalb von Komponenten bevorzuge Container Queries:

```tsx
// Container definieren
<div className="@container">
  // Responsive basierend auf Container-Größe
  <div className="@sm:grid-cols-2 @lg:grid-cols-4">
```

---

## 10. Checkliste für neue Komponenten

Bevor du eine Komponente commitest, prüfe:

- [ ] Keine Arbitrary Values verwendet
- [ ] Alle Farben sind semantische Tokens
- [ ] Radii verwenden nur `rounded-sm/md/lg/xl/full`
- [ ] Spacing verwendet nur erlaubte Werte (0,1,2,4,6,8,12,16,24,32,48,64)
- [ ] Font-Sizes verwenden Tailwind-Skala (text-xs bis text-4xl)
- [ ] Dark Mode funktioniert ohne explizite `dark:` Klassen
